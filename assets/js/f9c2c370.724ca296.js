"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[758],{7774:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return p},metadata:function(){return o},toc:function(){return c},default:function(){return d}});var a=n(7462),l=n(3366),r=(n(7294),n(3905)),s=["components"],i={sidebar_label:"SDK Set up",sidebar_position:1},p="Pay-Fi Sdk",o={unversionedId:"sdk",id:"sdk",isDocsHomePage:!1,title:"Pay-Fi Sdk",description:"Learn how to use Pay-Fi SDK Quick.",source:"@site/docs/sdk.md",sourceDirName:".",slug:"/sdk",permalink:"/docs/sdk",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/sdk.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"SDK Set up",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Tutorial Intro",permalink:"/docs/intro"},next:{title:"Merchant Onboarding",permalink:"/docs/merchant"}},c=[{value:"Getting Started",id:"getting-started",children:[],level:2},{value:"Parameters Table",id:"parameters-table",children:[],level:2},{value:"Step 1",id:"step-1",children:[],level:2},{value:"Step 2",id:"step-2",children:[],level:2},{value:"Example Implementation",id:"example-implementation",children:[],level:2},{value:"SETTING UP WEBHOOK",id:"setting-up-webhook",children:[],level:2}],u={toc:c};function d(e){var t=e.components,n=(0,l.Z)(e,s);return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"pay-fi-sdk"},"Pay-Fi Sdk"),(0,r.kt)("p",null,"Learn how to use ",(0,r.kt)("strong",{parentName:"p"},"Pay-Fi SDK Quick"),"."),(0,r.kt)("h2",{id:"getting-started"},"Getting Started"),(0,r.kt)("p",null,"BASE URL"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"https://api.payfi.ng/\n")),(0,r.kt)("p",null,"SDK URL"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"https://payfi-sdk-js.s3.amazonaws.com/payfi.js\n")),(0,r.kt)("h2",{id:"parameters-table"},"Parameters Table"),(0,r.kt)("p",null,"The Table Below is states the parameters and how to use them"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"apiKey"),(0,r.kt)("td",{parentName:"tr",align:null},"YES"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Public Key attached to your account")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"amount"),(0,r.kt)("td",{parentName:"tr",align:null},"YES"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Amount in Kobo")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"reference"),(0,r.kt)("td",{parentName:"tr",align:null},"YES"),(0,r.kt)("td",{parentName:"tr",align:"center"},"A unique transaction reference")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"callback"),(0,r.kt)("td",{parentName:"tr",align:null},"NO"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Function that runs when payment is successful")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"onClose"),(0,r.kt)("td",{parentName:"tr",align:null},"NO"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Function called if the customer closes the payment window")))),(0,r.kt)("h2",{id:"step-1"},"Step 1"),(0,r.kt)("p",null,"First initialize the sdk as shown below"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'      const payfi = new Payfi({\n        apiKey: \'pk_ce082ddd-c15f-\',\n        callbackUrl: "http://test.com",\n        callback: reference => {\n        document.getElementById("btn").removeAttribute("disabled")\n        console.log(\'callback called\', reference);\n          },\n        onClose: () => {\n          document.getElementById("btn").removeAttribute("disabled")\n          console.log(\'modal close\')\n        }\n      });\n')),(0,r.kt)("h2",{id:"step-2"},"Step 2"),(0,r.kt)("p",null,"Initiate payment process passing the amount and reference."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"   payfi.pay({ amount, reference: `${Date.now()}` })\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"RE-QUERY")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"https://api.payfi.ng/v1/merchant/purchase/verify-by-reference\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"HEADER")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'  {\n    "payfi-sec-key":"secret key"\n  }\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"BODY")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'  {\n    "reference":"testing-now-igho"\n  }\n')),(0,r.kt)("h2",{id:"example-implementation"},"Example Implementation"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'<script src="https://payfi-sdk-js.s3.amazonaws.com/payfi.js"><\/script>\n  <script type="text/javascript">\n     let amount;\n     const buttonElement = document.getElementById("btn");\n     const handleInputChange = e => {\n       amount = document.getElementById("amount").value;\n     }\n     const handleFormSubmit = () => {\n       payfi.pay({ amount, reference: `${Date.now()}` })\n     }\n     const payfi = new Payfi(\n       {\n         apiKey: \'pk_ce082ddd-c15f\',\n         callbackUrl: "http://test.com",\n         callback: reference => {\n          console.log(\'callback called\', reference);\n         },\n         onClose: () => {\n           console.log(\'modal close\')\n          }\n        });\n  <\/script>\n')),(0,r.kt)("h2",{id:"setting-up-webhook"},"SETTING UP WEBHOOK"),(0,r.kt)("p",null,"After every successful transaction, payfi will notify you via a webhook call, to set up your webhook you need to add this on the merchant portal ",(0,r.kt)("a",{parentName:"p",href:"https://merchant.payfi.ng"},"https://merchant.payfi.ng")),(0,r.kt)("p",null,"Payfi will call your webhook with this request:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},' {\n   "event": "payfi.events.payment",\n   "status": "approved",\n   "message": "string",\n   "txRef": "42_1639832966"\n }\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"HEADER")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'  {\n    "payfi-secret-key":"your secret key",\n  }\n')),(0,r.kt)("p",null,"Please check the header for this secret key before offering value"))}d.isMDXComponent=!0}}]);